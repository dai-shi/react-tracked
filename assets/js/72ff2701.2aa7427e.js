"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[464],{9523:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var a=n(6070),t=n(7468);const l={id:"tutorial-03",title:"Tutorial with createContainer - ToDo App with useState",sidebar_label:"ToDo App (useState+Immer)"},r=void 0,o={id:"tutorial-03",title:"Tutorial with createContainer - ToDo App with useState",description:"This tutorial shows example code with useState, Immer and custom hooks.",source:"@site/docs/tutorial-03.md",sourceDirName:".",slug:"/tutorial-03",permalink:"/docs/tutorial-03",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"tutorial-03",title:"Tutorial with createContainer - ToDo App with useState",sidebar_label:"ToDo App (useState+Immer)"},sidebar:"docs",previous:{title:"ToDo App (useReducer)",permalink:"/docs/tutorial-02"},next:{title:"ToDo App (async)",permalink:"/docs/tutorial-04"}},i={},c=[{value:"src/components/App.js",id:"srccomponentsappjs",level:2},{value:"src/store.js",id:"srcstorejs",level:2},{value:"src/hooks/useTodoList.js",id:"srchooksusetodolistjs",level:2},{value:"src/hooks/useAddTodo.js",id:"srchooksuseaddtodojs",level:2},{value:"src/hooks/useDeleteTodo.js",id:"srchooksusedeletetodojs",level:2},{value:"src/hooks/useToogleTodo.js",id:"srchooksusetoogletodojs",level:2},{value:"src/hooks/useQuery.js",id:"srchooksusequeryjs",level:2},{value:"src/components/TodoList.js",id:"srccomponentstodolistjs",level:2},{value:"src/components/TodoItem.js",id:"srccomponentstodoitemjs",level:2},{value:"src/components/NewTodo.js",id:"srccomponentsnewtodojs",level:2},{value:"src/utils.js",id:"srcutilsjs",level:2},{value:"CodeSandbox",id:"codesandbox",level:2}];function d(e){const s={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:["import TabsUsedByRemarkPluginTs2Js from '@theme/Tabs';\nimport TabItemUsedByRemarkPluginTs2Js from '@theme/TabItem';","\n",(0,a.jsxs)(s.p,{children:["This tutorial shows example code with useState, ",(0,a.jsx)(s.a,{href:"https://immerjs.github.io/immer/",children:"Immer"})," and custom hooks."]}),"\n",(0,a.jsx)(s.h2,{id:"srccomponentsappjs",children:"src/components/App.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsx)(s.p,{children:"This is the root component.\nIt wraps TodoList with Provider."}),"\n",(0,a.jsx)(s.h2,{id:"srcstorejs",children:"src/store.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsx)(s.p,{children:"The store is created by useState.\nuseUpdate is renamed to useSetState,\nand based on it, useSetDraft with Immer is exported."}),"\n",(0,a.jsx)(s.h2,{id:"srchooksusetodolistjs",children:"src/hooks/useTodoList.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsxs)(s.p,{children:["This is a custom hook to simply return ",(0,a.jsx)(s.code,{children:"todos"}),"."]}),"\n",(0,a.jsx)(s.h2,{id:"srchooksuseaddtodojs",children:"src/hooks/useAddTodo.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsxs)(s.p,{children:["This is a custom hook to return ",(0,a.jsx)(s.code,{children:"addTodo"})," function."]}),"\n",(0,a.jsx)(s.h2,{id:"srchooksusedeletetodojs",children:"src/hooks/useDeleteTodo.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsxs)(s.p,{children:["This is a custom hook to return ",(0,a.jsx)(s.code,{children:"deleteTodo"})," function."]}),"\n",(0,a.jsx)(s.h2,{id:"srchooksusetoogletodojs",children:"src/hooks/useToogleTodo.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsxs)(s.p,{children:["This is a custom hook to return ",(0,a.jsx)(s.code,{children:"toggleTodo"})," function."]}),"\n",(0,a.jsx)(s.h2,{id:"srchooksusequeryjs",children:"src/hooks/useQuery.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsxs)(s.p,{children:["This is a custom hook to return getQuery and setQuery.\nIt doesn't return ",(0,a.jsx)(s.code,{children:"state.query"})," directly, because\nit will be used conditionally."]}),"\n",(0,a.jsx)(s.h2,{id:"srccomponentstodolistjs",children:"src/components/TodoList.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsxs)(s.p,{children:["This component is to show the list of ",(0,a.jsx)(s.code,{children:"TodoItem"}),"s,\n",(0,a.jsx)(s.code,{children:"NewTodo"})," to create a new item, and\nClear button to reset notes in all items."]}),"\n",(0,a.jsx)(s.h2,{id:"srccomponentstodoitemjs",children:"src/components/TodoItem.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsx)(s.p,{children:"This is the TodoItem component.\nWe used to prefer primitive props for memoized components with v1.\nWith v2, object props are also fine."}),"\n",(0,a.jsx)(s.h2,{id:"srccomponentsnewtodojs",children:"src/components/NewTodo.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsx)(s.p,{children:"This is the NewTodo component to create a new item.\nIt uses a local state for the text field."}),"\n",(0,a.jsx)(s.h2,{id:"srcutilsjs",children:"src/utils.js"}),"\n","<TabsUsedByRemarkPluginTs2Js\n  defaultValue=\"js\"\n  values={[\n    { label: 'JavaScript', value: 'js', },\n    { label: 'TypeScript', value: 'ts', },\n  ]}\n>\n<TabItemUsedByRemarkPluginTs2Js value=\"js\">","\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-javascript",children:"[object Promise]\n"})}),"\n",'</TabItemUsedByRemarkPluginTs2Js>\n<TabItemUsedByRemarkPluginTs2Js value="ts">',"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-typescript",children:"[object Promise]\n"})}),"\n","</TabItemUsedByRemarkPluginTs2Js>\n</TabsUsedByRemarkPluginTs2Js>","\n",(0,a.jsx)(s.p,{children:"This is a util function to show which components render."}),"\n",(0,a.jsx)(s.h2,{id:"codesandbox",children:"CodeSandbox"}),"\n",(0,a.jsxs)(s.p,{children:["You can try ",(0,a.jsx)(s.a,{href:"https://codesandbox.io/s/infallible-firefly-yzwxc",children:"working example"}),"."]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},7468:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var a=n(758);const t={},l=a.createContext(t);function r(e){const s=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(l.Provider,{value:s},e.children)}}}]);